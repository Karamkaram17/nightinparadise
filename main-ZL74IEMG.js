import{a as Ae}from"./chunk-F5JGGOOU.js";import{a as ge,b as ye}from"./chunk-CLMM3GQ2.js";import{a as O}from"./chunk-ADZRV4DN.js";import{a as T}from"./chunk-5GN2XTUH.js";import{a as p}from"./chunk-US4DBW3U.js";import{a as f}from"./chunk-IXDNPNBC.js";import{a as pe,d as ue,e as fe}from"./chunk-BVXKCTBI.js";import{C as ce,b as u}from"./chunk-JIN3BOXY.js";import{P as y,Q as I,R as de,a as s}from"./chunk-6EH4JDCG.js";import"./chunk-RGNDWIHZ.js";import{a as he,b as me}from"./chunk-5OCG7IXQ.js";import{b as q,d as ee,e as te,f as oe,g as re,i as ne,j as ie,k as ae,m as se,n as m,o as le}from"./chunk-UQ6JH2GH.js";import{Cb as $,Cc as K,Ha as W,Hb as Z,I as L,J as _,M as v,Mb as R,Nb as X,Ob as S,Q as w,Qa as x,Qc as Q,aa as k,ba as P,da as E,f as Y,fb as C,ga as M,hb as V,ia as D,ja as d,jb as j,lb as G,na as F,nc as J,ob as H,qb as B,ra as U,v as g,wb as z}from"./chunk-YNBU5IFA.js";var Ee=()=>{let r=d(m);return u(f.SS.user)?(r.navigate([s.LAYOUT.route]),!1):!0};var c=r=>{let t=d(m),n=u(f.SS.user);if(!n)return t.navigate([s.LOGIN.route]),!1;if(!r.data)return!0;let e=r.data.roles;if(!e||!Array.isArray(e)||e.length===0)return!0;let o=e.some(i=>n.admin||n.permissions[i]);return!o&&t.navigate([s.NOT_AUTHORIZED.route]),o};var Ye=[{path:"",redirectTo:s.LAYOUT.children.RESERVATIONS.endpoint,pathMatch:"full"},{path:s.LAYOUT.children.RESERVATIONS.endpoint,loadComponent:()=>import("./chunk-INOONMAF.js").then(r=>r.ReservationsComponent),canActivate:[c]},{path:s.LAYOUT.children.BUNGALOWS.endpoint,loadComponent:()=>import("./chunk-4MPI7ECZ.js").then(r=>r.BungalowsComponent),canActivate:[c],data:{roles:[p.VIEW_BUNGALOW]}},{path:s.LAYOUT.children.REVIEWS.endpoint,loadComponent:()=>import("./chunk-XATFHBDC.js").then(r=>r.ReviewsComponent),canActivate:[c],data:{roles:[p.VIEW_REVIEWS]}},{path:s.LAYOUT.children.REVENUES.endpoint,loadComponent:()=>import("./chunk-DBERGR54.js").then(r=>r.RevenuesComponent),canActivate:[c],data:{roles:[p.VIEW_REVENUE]}},{path:s.LAYOUT.children.EXPENSES.endpoint,loadComponent:()=>import("./chunk-TWJALGSX.js").then(r=>r.ExpensesComponent),canActivate:[c],data:{roles:[p.VIEW_EXPENSE]}},{path:s.LAYOUT.children.USER_MANAGEMENT.endpoint,loadComponent:()=>import("./chunk-X72OYUZO.js").then(r=>r.UsersComponent),canActivate:[c],data:{roles:[p.VIEW_USER]}},{path:s.LAYOUT.children.REPORTS.endpoint,loadComponent:()=>import("./chunk-QYUQFSJQ.js").then(r=>r.ReportsComponent),canActivate:[c],data:{roles:[p.VIEW_REPORTS]},children:[{path:"",pathMatch:"full",redirectTo:s.LAYOUT.children.REPORTS.children.YEARLY.endpoint},{path:s.LAYOUT.children.REPORTS.children.YEARLY.endpoint,loadComponent:()=>import("./chunk-4W5APE5Y.js").then(r=>r.ReportByYearComponent)}]}],Me=[{path:"",redirectTo:s.HOME.endpoint,pathMatch:"full"},{path:s.HOME.endpoint,loadComponent:()=>import("./chunk-6DYKBCR7.js").then(r=>r.MainPageComponent)},{path:s.LAYOUT.endpoint,loadComponent:()=>import("./chunk-CB7RHQZD.js").then(r=>r.LayoutComponent),children:Ye,canActivate:[c]},{path:s.LOGIN.endpoint,loadComponent:()=>import("./chunk-QESV2MIC.js").then(r=>r.LoginComponent),canActivate:[Ee]},{path:s.NOT_AUTHORIZED.endpoint,loadComponent:()=>import("./chunk-4NX75OBI.js").then(r=>r.NotAuthorizedComponent)},{path:s.PAGE_NOT_FOUND.endpoint,loadComponent:()=>import("./chunk-4I4YF7AS.js").then(r=>r.PageNotFoundComponent)},{path:"**",redirectTo:s.PAGE_NOT_FOUND.endpoint,pathMatch:"full"}];var Le="@",we=(()=>{let t=class t{constructor(e,o,i,a,l){this.doc=e,this.delegate=o,this.zone=i,this.animationType=a,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=d(j,{optional:!0}),this.loadingSchedulerFn=d(ke,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-EKVH257X.js").then(i=>i),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(e):o=e(),o.catch(i=>{throw new P(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:a})=>{this._engine=i(this.animationType,this.doc);let l=new a(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,o){let i=this.delegate.createRenderer(e,o);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let a=new N(i);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let be=l.createRenderer(e,o);a.use(be),this.scheduler?.notify(10)}).catch(l=>{a.use(i)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(o){V()},t.\u0275prov=E({token:t,factory:t.\u0275fac});let r=t;return r})(),N=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,e,o){this.delegate.insertBefore(t,n,e,o)}removeChild(t,n,e){this.delegate.removeChild(t,n,e)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,e,o){this.delegate.setAttribute(t,n,e,o)}removeAttribute(t,n,e){this.delegate.removeAttribute(t,n,e)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,e,o){this.delegate.setStyle(t,n,e,o)}removeStyle(t,n,e){this.delegate.removeStyle(t,n,e)}setProperty(t,n,e){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(t,n,e)),this.delegate.setProperty(t,n,e)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,e){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(t,n,e)),this.delegate.listen(t,n,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(Le)}},ke=new M("");function Te(r="animations"){return H("NgAsyncAnimations"),U([{provide:G,useFactory:(t,n,e)=>new we(t,n,e,r),deps:[Q,oe,W]},{provide:x,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Pe=Y(ce(),1),_e=Y(ce(),1),h=_e.default||Pe,b=new M("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:Fe});function Fe(){return{useUtc:!1}}function Ue(r,t){let n=Array(r);for(let e=0;e<r;e++)n[e]=t(e);return n}var We=(()=>{let t=class t extends I{constructor(e,o){super(),this._options=o,this.setLocale(e||h.locale())}setLocale(e){super.setLocale(e);let o=h.localeData(e);this._localeData={firstDayOfWeek:o.firstDayOfWeek(),longMonths:o.months(),shortMonths:o.monthsShort(),dates:Ue(31,i=>this.createDate(2017,0,i+1).format("D")),longDaysOfWeek:o.weekdays(),shortDaysOfWeek:o.weekdaysShort(),narrowDaysOfWeek:o.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return e=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return e=="long"?this._localeData.longDaysOfWeek:e=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,o,i){let a=this._createMoment({year:e,month:o,date:i}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(e,o){return e&&typeof e=="string"?this._createMoment(e,o,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,o){return e=this.clone(e),this.isValid(e),e.format(o)}addCalendarYears(e,o){return this.clone(e).add({years:o})}addCalendarMonths(e,o){return this.clone(e).add({months:o})}addCalendarDays(e,o){return this.clone(e).add({days:o})}toIso8601(e){return this.clone(e).format()}deserialize(e){let o;if(e instanceof Date)o=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if(typeof e=="string"){if(!e)return null;o=this._createMoment(e,h.ISO_8601).locale(this.locale)}return o&&this.isValid(o)?this._createMoment(o).locale(this.locale):super.deserialize(e)}isDateInstance(e){return h.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return h.invalid()}_createMoment(e,o,i){let{strict:a,useUtc:l}=this._options||{};return l?h.utc(e,o,i,a):h(e,o,i,a)}};t.\u0275fac=function(o){return new(o||t)(D(y,8),D(b,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac});let r=t;return r})(),xe={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};function ve(r=xe,t){let n=[{provide:I,useClass:We,deps:[y,b]},{provide:de,useValue:r}];return t&&n.push({provide:b,useValue:t}),n}var De=(r,t)=>{let n=d(Ae),e=Ve(r);return!e&&n.plus(),t(r).pipe(w(()=>{!e&&n.minus()}))};function Ve(r){return r.url.endsWith(".svg")}var Ce=(r,t)=>{let n=d(O),e=d(ue);return t(r).pipe(k(o=>{if(o instanceof q&&o.body){let i=o.body;if(i.showMessage&&i.message)if(i.isDialog){let a={bodyMessage:i.message,state:i.state??"success",showOk:!0};e.open(T,{data:a,autoFocus:!1,restoreFocus:!0,disableClose:!0,width:"90vw",maxWidth:"500px"})}else n.open(i.message,i.state??"success",i.snackbarDuration)}}))};function A(r){return r.clone({setHeaders:{Authorization:"Bearer "+u(f.SS.token)},withCredentials:!0})}var Re=(r,t)=>{let n=d(O),e=d(fe),o=d(ge);function i(a){e.open(T,{data:a,autoFocus:!0,restoreFocus:!0,disableClose:!0,width:"90vw",maxWidth:"500px"})}return t(r).pipe(L(a=>{if(a&&a.error){let l=a.error;l.showMessage&&l.message&&(l.isDialog?i({bodyMessage:l.message,state:l.state??"error",showOk:!0}):n.open(l.message,l.state??"error",l.snackbarDuration))}return a.status===401?r.url===me+he.AUTHENTICATION.refresh?(o.logOut(!0),g(()=>a)):o.isRefreshTokenCalled!==!0?(o.isRefreshTokenCalled=!0,o.callRefreshToken().pipe(v(1),_(l=>(o.successfulRefreshToken(l),t(A(r)))))):o.refreshToken$.pipe(v(1),_(()=>t(A(r)))):a.status===403?(o.isLogoutCalled||(e.closeAll(),i({bodyMessage:"You don't have permission to access this resource.",state:"error",showOk:!0})),o.logOut(!0),g(()=>a)):a.error?g(()=>a):(i({bodyMessage:"Unexpected Error Occurred",title:"Error",state:"error",showOk:!0}),g(()=>a))}))};var Se=(r,t)=>t(A(r));var je={parse:{dateInput:"ll"},display:{dateInput:"ll",monthYearLabel:"MMM YYYY",dateA11yLabel:"ll",monthYearA11yLabel:"MMMM YYYY"}},Ie={providers:[K({eventCoalescing:!0}),le(Me),Te(),ee(te([Se,Re,Ce,De])),{provide:y,useValue:"fr"},ve(je)]};function Ge(r,t){r&1&&S(0,"kss-lib-loading")}var Ne=(()=>{let t=class t{constructor(){this._router=d(m),this._navService=d(pe),this.loadingRouteSig=B(!1)}ngOnInit(){this._navService.getThemeOnLoad(),this._router.events.subscribe(e=>{e instanceof ne?(this.loadingRouteSig.set(!0),window.scrollTo(0,0)):(e instanceof ie||e instanceof ae)&&this.loadingRouteSig.set(!1)})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=F({type:t,selectors:[["app-root"]],standalone:!0,features:[J],decls:4,vars:3,consts:[[1,"app-container"],[1,"global-router-container"]],template:function(o,i){o&1&&(R(0,"div",0),z(1,Ge,1,0,"kss-lib-loading"),R(2,"div",1),S(3,"router-outlet"),X()()),o&2&&(C(),Z(i.loadingRouteSig()?1:-1),C(),$("display",i.loadingRouteSig()?"none":"block"))},dependencies:[se,ye],styles:[".app-container[_ngcontent-%COMP%], .app-container[_ngcontent-%COMP%]   .global-router-container[_ngcontent-%COMP%]{min-height:100dvh}"]});let r=t;return r})();re(Ne,Ie).catch(r=>console.error(r));
