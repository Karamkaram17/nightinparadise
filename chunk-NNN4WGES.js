import{a as oi}from"./chunk-ADZRV4DN.js";import{a as ii}from"./chunk-AXBYL5LR.js";import{c as Ht,d as Wt}from"./chunk-H7Q4ZVWD.js";import{e as Ae}from"./chunk-KY5IPUDC.js";import{A as Gt,C as q,D as Kt,F as Te,G as Qt,H as Ut,I as Yt,J as $t,N as Zt,a as be,b as we,c as ye,d as Ce,f as Dt,g as ke,h as Rt,i as xe,k as Vt,l as Lt,o as Se,p as zt,q as Nt,s as jt,u as qt,v as Oe,w as Bt}from"./chunk-ZRAVUJEI.js";import{b as Jt,c as ei,g as ti}from"./chunk-BVXKCTBI.js";import{A as Ft,B as Xt,l as Ot,m as At,p as Et,t as Pt,x as $}from"./chunk-JIN3BOXY.js";import{$ as Le,G as ft,J as gt,N as fe,T as vt,V as bt,W as wt,X as yt,Y as j,Z as Ct,_ as kt,aa as xt,b as mt,ea as ge,fa as St,i as pt,k as ue,t as ht,u as ut,v as Ve,w as _e,y as _t}from"./chunk-6EH4JDCG.js";import{c as Tt,d as ve,e as It,g as Y,h as Mt,j as ze}from"./chunk-RGNDWIHZ.js";import{c as Ie}from"./chunk-5OCG7IXQ.js";import{$b as z,$c as dt,Ab as L,Bb as p,C as Ke,Ca as Xe,Cb as N,Da as Ze,Db as M,E as ee,Ea as ae,Ec as U,F as B,Fb as re,G as te,Ga as k,Ha as Je,Hb as _,Ib as ce,Ic as C,Ja as S,Jc as st,Ka as H,Kb as F,Lb as D,M as V,Mb as d,Nb as m,O as Qe,Ob as b,Qa as et,Qc as lt,Sb as w,Tb as at,Vb as v,Xb as s,Y as Ue,Yb as se,Z as ie,Zb as le,Zc as he,_b as Re,a as Z,aa as Ye,ac as E,bc as P,ca as oe,ea as Pe,ec as de,fb as l,fc as y,ga as G,gb as h,gc as K,hc as T,ib as tt,ic as rt,j as J,ja as I,l as Ge,mc as Q,na as x,nb as it,nc as O,o as Ee,oa as Fe,oc as ct,pa as De,qb as ot,tb as W,tc as me,u as He,uc as pe,wa as ne,wb as u,xa as f,y as We,ya as g,za as $e,zb as nt}from"./chunk-YNBU5IFA.js";var bi=(o,a)=>a.value;function wi(o,a){if(o&1){let n=w();d(0,"kss-lib-icon",6),v("click",function(){f(n);let t=s(3);return g(t.onIconClick("prefix"))}),m()}if(o&2){let n=s();p("config",n.prefixIcon)}}function yi(o,a){if(o&1&&(d(0,"span",7),y(1),m()),o&2){let n=s(3);l(),rt(" (+",((n.value==null?null:n.value.length)||0)-1," ",(n.value==null?null:n.value.length)===2?"other":"others",") ")}}function Ci(o,a){if(o&1&&(d(0,"mat-select-trigger"),y(1),u(2,yi,2,2,"span",7),m()),o&2){let n=s(2),e=s();l(),T(" ",e.onChange()," "),l(),_(((n.value==null?null:n.value.length)||0)>1?2:-1)}}function ki(o,a){if(o&1&&(d(0,"mat-select-trigger"),y(1),m()),o&2){let n=s(3);l(),K(n.onChange())}}function xi(o,a){if(o&1&&(d(0,"mat-option",8),y(1),m()),o&2){let n=s();N("border-bottom","1px solid var(--divider-color)"),p("value",void 0),l(),T(" ",n.emptyOption," ")}}function Si(o,a){if(o&1&&(d(0,"mat-option",8),y(1),m()),o&2){let n=a.$implicit;N("border-bottom","1px solid var(--divider-color)"),p("value",n.value),l(),T(" ",n.name," ")}}function Oi(o,a){if(o&1){let n=w();d(0,"kss-lib-icon",9),v("click",function(){f(n);let t=s(3);return g(t.onIconClick("suffix"))}),m()}if(o&2){let n=s();p("config",n.suffixIcon)}}function Ai(o,a){if(o&1&&(d(0,"mat-error"),b(1,"kss-lib-field-validation",10),m()),o&2){let n=s(2);l(),p("control",n)}}function Ti(o,a){if(o&1&&(d(0,"mat-form-field",1),u(1,wi,1,1,"kss-lib-icon",2),d(2,"mat-label"),y(3),m(),d(4,"mat-select",3),u(5,Ci,3,2,"mat-select-trigger")(6,ki,2,1,"mat-select-trigger")(7,xi,2,4,"mat-option",4),F(8,Si,2,4,"mat-option",4,bi),m(),u(10,Oi,1,1,"kss-lib-icon",5),F(11,Ai,2,1,"mat-error",null,ce),me(13,"keyvalue"),m()),o&2){let n=a,e=s(),t=s();M("mt-2",!n.removeTopMargin&&(n.appearance==="outline"||!n.appearance))("hide-extra",n.hideExtra),p("appearance",n.appearance?n.appearance:"outline")("color",n.color?n.color:"primary"),l(),_(n.prefixIcon?1:-1),l(2),K(n.label),l(),p("formControl",e)("multiple",n.multiple)("errorStateMatcher",t.matcher),l(),_(n.multiple?5:6),l(2),_(n.emptyOption!==void 0?7:-1),l(),D(n.options),l(2),_(n.suffixIcon?10:-1),l(),D(pe(13,14,e.errors))}}function Ii(o,a){if(o&1&&u(0,Ti,14,16,"mat-form-field",0),o&2){let n,e=s();_((n=e.configSig())?0:-1,n)}}var ai=(()=>{let a=class a{constructor(){this._destroyRef=I(ae),this._networkService=I(Ie),this.controlSig=S.required({alias:"control"}),this.configSig=S.required({alias:"config"}),this.matcher=new Yt,this.iconClickEvent=new k}ngOnInit(){let e=this.configSig(),t=e.api,i=e.stream;t?this._networkService.get(t.endpoint).pipe(V(1)).subscribe(r=>{r.data&&Array.isArray(r.data)&&(e.options=r.data.map(c=>({name:c[t.name],value:c[t.value]})))}):i&&i.stream.pipe(Ae(this._destroyRef)).subscribe(r=>{r&&Array.isArray(r)&&(e.options=r.map(c=>({name:c[i.name],value:c[i.value]})))})}onIconClick(e){this.iconClickEvent.emit({type:e})}onChange(){let e=this.controlSig().value;if(Array.isArray(e)&&e.length){let t=this.configSig().options.find(i=>i.value===e[0]);return t?t.name:""}else{let t=this.configSig().options.find(i=>i.value===e);return t?t.name:""}}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=x({type:a,selectors:[["kss-lib-select"]],inputs:{controlSig:[1,"control","controlSig"],configSig:[1,"config","configSig"]},outputs:{iconClickEvent:"iconClickEvent"},standalone:!0,features:[O],decls:1,vars:1,consts:[[1,"kss-lib-select",3,"appearance","color","mt-2","hide-extra"],[1,"kss-lib-select",3,"appearance","color"],["matPrefix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"config"],[3,"formControl","multiple","errorStateMatcher"],[3,"border-bottom","value"],["matSuffix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"config"],["matPrefix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"click","config"],[1,"example-additional-selection"],[3,"value"],["matSuffix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"click","config"],[3,"control"]],template:function(t,i){if(t&1&&u(0,Ii,1,1),t&2){let r;_((r=i.controlSig())?0:-1,r)}},dependencies:[Ht,Te,j,Wt,we,ke,ye,Ce,be,ge,q,Se,Oe,he],styles:[".kss-lib-select[_ngcontent-%COMP%]{width:100%}.hide-extra[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}"]});let o=a;return o})();var Fi=["panel"],Di=["*"];function Ri(o,a){if(o&1){let n=w();d(0,"div",1,0),v("@panelAnimation.done",function(t){f(n);let i=s();return g(i._animationDone.next(t))}),le(2),m()}if(o&2){let n=a.id,e=s();re(e._classList),M("mat-mdc-autocomplete-visible",e.showPanel)("mat-mdc-autocomplete-hidden",!e.showPanel)("mat-primary",e._color==="primary")("mat-accent",e._color==="accent")("mat-warn",e._color==="warn"),p("id",e.id)("@panelAnimation",e.isOpen?"visible":"hidden"),L("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(n))}}var Vi=Tt("panelAnimation",[Mt("void, hidden",Y({opacity:0,transform:"scaleY(0.8)"})),ze(":enter, hidden => visible",[It([ve("0.03s linear",Y({opacity:1})),ve("0.12s cubic-bezier(0, 0, 0.2, 1)",Y({transform:"scaleY(1)"}))])]),ze(":leave, visible => hidden",[ve("0.075s linear",Y({opacity:0}))])]),Li=0,Ne=class{constructor(a,n){this.source=a,this.option=n}},si=new G("mat-autocomplete-default-options",{providedIn:"root",factory:zi});function zi(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var li=(()=>{let a=class a{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,t,i,r){this._changeDetectorRef=e,this._elementRef=t,this._defaults=i,this._activeOptionChanges=J.EMPTY,this._animationDone=new k,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new k,this.opened=new k,this.closed=new k,this.optionActivated=new k,this.id=`mat-autocomplete-${Li++}`,this.inertGroups=r?.SAFARI||!1,this.autoActiveFirstOption=!!i.autoActiveFirstOption,this.autoSelectActiveOption=!!i.autoSelectActiveOption,this.requireSelection=!!i.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new _t(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new Ne(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}};a.\u0275fac=function(t){return new(t||a)(h(U),h(H),h(si),h(mt))},a.\u0275cmp=x({type:a,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,r){if(t&1&&(Re(r,j,5),Re(r,wt,5)),t&2){let c;E(c=P())&&(i.options=c),E(c=P())&&(i.optionGroups=c)}},viewQuery:function(t,i){if(t&1&&(z(tt,7),z(Fi,5)),t&2){let r;E(r=P())&&(i.template=r.first),E(r=P())&&(i.panel=r.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",C],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",C],requireSelection:[2,"requireSelection","requireSelection",C],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",C],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",C]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[Q([{provide:bt,useExisting:a}]),W,O],ngContentSelectors:Di,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,i){t&1&&(se(),u(0,Ri,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Vi]},changeDetection:0});let o=a;return o})();var Ni={provide:xe,useExisting:oe(()=>je),multi:!0};var di=new G("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let o=I($);return()=>o.scrollStrategies.reposition()}});function ji(o){return()=>o.scrollStrategies.reposition()}var qi={provide:di,deps:[$],useFactory:ji},je=(()=>{let a=class a{constructor(e,t,i,r,c,R,Be,ui,_i,fi,gi){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=r,this._changeDetectorRef=c,this._dir=Be,this._formField=ui,this._document=_i,this._viewportRuler=fi,this._defaults=gi,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=J.EMPTY,this._breakpointObserver=I(ht),this._handsetLandscapeSubscription=J.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ee,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new Ee,this._injector=I(Ze),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Ke(()=>{let A=this.autocomplete?this.autocomplete.options:null;return A?A.changes.pipe(Ue(A),ie(()=>B(...A.map(vi=>vi.onSelectionChange)))):this._initialized.pipe(ie(()=>this.optionSelections))}),this._handlePanelKeydown=A=>{(A.keyCode===27&&!ue(A)||A.keyCode===38&&ue(A,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),A.stopPropagation(),A.preventDefault())},this._trackedModal=null,this._scrollStrategy=R}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&_e(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return B(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(te(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(te(()=>this._overlayAttached)):He()).pipe(We(e=>e instanceof yt?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return B(ee(this._document,"click"),ee(this._document,"auxclick"),ee(this._document,"touchend")).pipe(te(e=>{let t=pt(e),i=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,r=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(t))&&(!r||!r.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,i=ue(e);if(t===27&&!i&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let r=this.autocomplete._keyManager.activeItem,c=t===38||t===40;t===9||c&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):c&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(c||this.autocomplete._keyManager.activeItem!==r)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,i=t.value;if(t.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let r=this.autocomplete.options?.find(c=>c.selected);if(r){let c=this._getDisplayValue(r.value);i!==c&&r.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let r=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(r)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new Ge(i=>{nt(()=>{i.next()},{injector:this._injector})}),t=this.autocomplete.options.changes.pipe(Ye(()=>this._positionStrategy.reapplyLastPosition()),Qe(0));return B(e,t).pipe(ie(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),V(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,i=e?e.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),t._emitSelectEvent(i),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),t._animationDone?t._animationDone.pipe(V(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(i=>{i!==e&&i.selected&&i.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;Ve(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Et(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(ut.HandsetLandscape).subscribe(r=>{r.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Pt({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],c;this.position==="above"?c=r:this.position==="below"?c=t:c=[...t,...r],e.withPositions(c)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){t=i;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let t=this.autocomplete,i=Ct(e,t.options,t.optionGroups);if(e===0&&i===1)t._setScrollTop(0);else if(t.panel){let r=t.options.toArray()[e];if(r){let c=r._getHostElement(),R=kt(c.offsetTop,c.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(R)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&_e(this._trackedModal,"aria-owns",t),Ve(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;_e(this._trackedModal,"aria-owns",e),this._trackedModal=null}}};a.\u0275fac=function(t){return new(t||a)(h(H),h($),h(it),h(Je),h(U),h(di),h(gt,8),h(Dt,9),h(lt,8),h(Ot),h(si,8))},a.\u0275dir=De({type:a,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){t&1&&v("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(c){return i._handleInput(c)})("keydown",function(c){return i._handleKeydown(c)})("click",function(){return i._handleClick()}),t&2&&L("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",C]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[Q([Ni]),W,ne]});let o=a;return o})(),mi=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Fe({type:a}),a.\u0275inj=Pe({providers:[qi],imports:[Ft,Le,fe,dt,At,Le,fe]});let o=a;return o})();var Gi=["input"],Hi=(o,a)=>a.value;function Wi(o,a){if(o&1){let n=w();d(0,"kss-lib-icon",9),v("click",function(){f(n);let t=s(3);return g(t.onIconClick("prefix"))}),m()}if(o&2){let n=s();p("config",n.prefixIcon)}}function Ki(o,a){if(o&1&&(d(0,"mat-option",10),y(1),m()),o&2){let n=s();N("border-bottom","1px solid var(--divider-color)"),p("value",void 0),l(),T(" ",n.emptyOption," ")}}function Qi(o,a){if(o&1&&(d(0,"mat-option",10),y(1),m()),o&2){let n=a.$implicit;N("border-bottom","1px solid var(--divider-color)"),p("value",n.value),l(),T(" ",n.name," ")}}function Ui(o,a){if(o&1){let n=w();d(0,"kss-lib-icon",11),v("click",function(){f(n);let t=s(3);return g(t.onIconClick("suffix"))}),m()}if(o&2){let n=s();p("config",n.suffixIcon)}}function Yi(o,a){if(o&1&&(d(0,"mat-error"),b(1,"kss-lib-field-validation",12),m()),o&2){let n=s(2);l(),p("control",n)}}function $i(o,a){if(o&1){let n=w();d(0,"mat-form-field",3),u(1,Wi,1,1,"kss-lib-icon",4),d(2,"mat-label"),y(3),m(),d(4,"input",5,0),v("blur",function(){f(n);let t=s(2);return g(t.blur())})("input",function(){f(n);let t=s(2);return g(t.filter())})("focus",function(){f(n);let t=s(2);return g(t.filter())}),m(),d(6,"mat-autocomplete",6,1),u(8,Ki,2,4,"mat-option",7),F(9,Qi,2,4,"mat-option",7,Hi),m(),u(11,Ui,1,1,"kss-lib-icon",8),F(12,Yi,2,1,"mat-error",null,ce),me(14,"keyvalue"),m()}if(o&2){let n=a,e=de(7),t=s(),i=s();M("mt-2",!n.removeTopMargin&&(n.appearance==="outline"||!n.appearance))("hide-extra",n.hideExtra),p("appearance",n.appearance?n.appearance:"outline")("color",n.color?n.color:"primary"),l(),_(n.prefixIcon?1:-1),l(2),K(n.label),l(),p("readonly",i.readonlySig())("formControl",t)("maxCharacters",i.textMaxLengthSig())("maxlength",i.textMaxLengthSig())("matAutocomplete",e),l(2),p("requireSelection",!n.flexibleOption)("displayWith",i.displayFn.bind(i)),l(2),_(n.emptyOption!==void 0?8:-1),l(),D(i.filteredOptions),l(2),_(n.suffixIcon?11:-1),l(),D(pe(14,17,t.errors))}}function Xi(o,a){if(o&1&&u(0,$i,15,19,"mat-form-field",2),o&2){let n,e=s();_((n=e.configSig())?0:-1,n)}}var pi=(()=>{let a=class a{constructor(){this.configSig=S.required({alias:"config"}),this.controlSig=S.required({alias:"control"}),this.textMaxLengthSig=S(null,{alias:"textMaxLength"}),this.readonlySig=S(!1,{alias:"readonly"}),this.filteredOptions=[],this._destroyRef=I(ae),this._networkService=I(Ie),this.iconClickEvent=new k}ngOnInit(){let e=this.configSig(),t=e.api,i=e.stream;t?this._networkService.get(t.endpoint).pipe(V(1)).subscribe(r=>{r.data&&Array.isArray(r.data)&&(e.options=r.data.map(c=>({name:c[t.name],value:c[t.value]})),this.filteredOptions=e.options.slice())}):i?i.stream.pipe(Ae(this._destroyRef)).subscribe(r=>{r&&Array.isArray(r)&&(e.options=r.map(c=>({name:c[i.name],value:c[i.value]})),this.filteredOptions=e.options.slice())}):this.filteredOptions=e.options.slice()}displayFn(e){if(!e)return"";let t=this.configSig().options.find(i=>i.value===e);return t?t.name:this.configSig().flexibleOption&&this.controlSig().value||""}onIconClick(e){this.iconClickEvent.emit({type:e})}blur(){let e=this.controlSig(),t=e.value,i=this.input?.nativeElement;i&&(e.setValue(t),i.value=t)}filter(){let e=this.input?.nativeElement?.value?.toLowerCase().trim()??"";this.filteredOptions=this.configSig().options.filter(t=>t.name.toLowerCase().includes(e))}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=x({type:a,selectors:[["kss-lib-autocomplete"]],viewQuery:function(t,i){if(t&1&&z(Gi,5),t&2){let r;E(r=P())&&(i.input=r.first)}},inputs:{configSig:[1,"config","configSig"],controlSig:[1,"control","controlSig"],textMaxLengthSig:[1,"textMaxLength","textMaxLengthSig"],readonlySig:[1,"readonly","readonlySig"]},outputs:{iconClickEvent:"iconClickEvent"},standalone:!0,features:[O],decls:1,vars:1,consts:[["input",""],["auto","matAutocomplete"],[1,"kss-lib-autocomplete",3,"appearance","color","mt-2","hide-extra"],[1,"kss-lib-autocomplete",3,"appearance","color"],["matPrefix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"config"],["placeholder","Start Typing ...","matInput","","dir-text-input","",3,"blur","input","focus","readonly","formControl","maxCharacters","maxlength","matAutocomplete"],[3,"requireSelection","displayWith"],[3,"border-bottom","value"],["matSuffix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"config"],["matPrefix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"click","config"],[3,"value"],["matSuffix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"click","config"],[3,"control"]],template:function(t,i){if(t&1&&u(0,Xi,1,1),t&2){let r;_((r=i.controlSig())?0:-1,r)}},dependencies:[Ut,Qt,ke,be,we,ye,Ce,mi,li,j,je,Rt,ge,Te,q,Vt,Se,Gt,Oe,he,Kt],styles:[".kss-lib-autocomplete[_ngcontent-%COMP%]{width:100%}.hide-extra[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}"]});let o=a;return o})();var Zi=["switch"],Ji=["*"];function eo(o,a){o&1&&(d(0,"span",10),$e(),d(1,"svg",12),b(2,"path",13),m(),d(3,"svg",14),b(4,"path",15),m()())}var to=new G("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),io={provide:xe,useExisting:oe(()=>qe),multi:!0},Me=class{constructor(a,n){this.source=a,this.checked=n}},oo=0,qe=(()=>{let a=class a{_createChangeEvent(e){return new Me(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,i,r,c,R){this._elementRef=e,this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=c,this._onChange=Be=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new k,this.toggleChange=new k,this.tabIndex=parseInt(r)||0,this.color=c.color||"accent",this._noopAnimations=R==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++oo}`,this.hideIcon=c.hideIcon??!1,this.disabledInteractive=c.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Me(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};a.\u0275fac=function(t){return new(t||a)(h(H),h(ft),h(U),Xe("tabindex"),h(to),h(et,8))},a.\u0275cmp=x({type:a,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(t&1&&z(Zi,5),t&2){let r;E(r=P())&&(i._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(t,i){t&2&&(at("id",i.id),L("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),re(i.color?"mat-"+i.color:""),M("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",C],color:"color",disabled:[2,"disabled","disabled",C],disableRipple:[2,"disableRipple","disableRipple",C],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:st(e)],checked:[2,"checked","checked",C],hideIcon:[2,"hideIcon","hideIcon",C],disabledInteractive:[2,"disabledInteractive","disabledInteractive",C]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Q([io,{provide:Lt,useExisting:a,multi:!0}]),W,ne,O],ngContentSelectors:Ji,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(t,i){if(t&1){let r=w();se(),d(0,"div",1)(1,"button",2,0),v("click",function(){return f(r),g(i._handleClick())}),b(3,"span",3),d(4,"span",4)(5,"span",5)(6,"span",6),b(7,"span",7),m(),d(8,"span",8),b(9,"span",9),m(),u(10,eo,5,0,"span",10),m()()(),d(11,"label",11),v("click",function(R){return f(r),g(R.stopPropagation())}),le(12),m()()}if(t&2){let r=de(2);p("labelPosition",i.labelPosition),l(),M("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled)("mat-mdc-slide-toggle-disabled-interactive",i.disabledInteractive),p("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("disabled",i.disabled&&!i.disabledInteractive),L("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),l(8),p("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),l(),_(i.hideIcon?-1:10),l(),p("for",i.buttonId),L("id",i._labelId)}},dependencies:[vt,xt],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0});let o=a;return o})();function no(o,a){if(o&1){let n=w();d(0,"span",0)(1,"mat-slide-toggle",1),v("change",function(){f(n);let t=s();return g(t.changeValue())}),y(2),m()()}if(o&2){let n=a,e=s();l(),p("color",e.colorSig())("checked",n.value)("disabled",n.disabled),l(),T(" ",e.labelSig()," ")}}var hi=(()=>{let a=class a{constructor(){this.controlSig=S.required({alias:"control"}),this.labelSig=S.required({alias:"label"}),this.colorSig=S("primary",{alias:"color"})}changeValue(){let e=this.controlSig();e.setValue(!e.value)}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=x({type:a,selectors:[["kss-lib-slide-toggle"]],inputs:{controlSig:[1,"control","controlSig"],labelSig:[1,"label","labelSig"],colorSig:[1,"color","colorSig"]},standalone:!0,features:[O],decls:1,vars:1,consts:[[1,"kss-lib-slide-toggle"],[3,"change","color","checked","disabled"]],template:function(t,i){if(t&1&&u(0,no,3,4,"span",0),t&2){let r;_((r=i.controlSig())?0:-1,r)}},dependencies:[qe],styles:[".kss-lib-slide-toggle[_ngcontent-%COMP%]{margin:12px 0;padding-left:10px}"]});let o=a;return o})();var ao=(o,a)=>a.fieldName,ro=()=>({label:"Clear"});function co(o,a){if(o&1&&b(0,"kss-lib-input",8),o&2){let n=s(),e=s().$implicit,t=s(2);p("config",e.input)("control",n)("float",!!e.float)("textMaxLength",e.textMaxLength||null)("MaxValue",e.MaxValue!==void 0?e.MaxValue:t.maxValue)("noSpace",!!e.noSpace)("readonly",!!e.readonly)("negativeValue",!!e.negativeValue)("negativeValue",!!e.allowNegative)}}function so(o,a){if(o&1&&b(0,"kss-lib-select",9),o&2){let n=s(),e=s().$implicit;p("config",e.select)("control",n)}}function lo(o,a){if(o&1&&b(0,"kss-lib-autocomplete",10),o&2){let n=s(),e=s().$implicit;p("config",e.autocomplete)("control",n)("readonly",!!e.readonly)}}function mo(o,a){if(o&1&&(d(0,"div",11),b(1,"kss-lib-checkbox",12),m()),o&2){let n=s(),e=s().$implicit;l(),p("label",e.checkbox.label)("control",n)}}function po(o,a){if(o&1&&(d(0,"div",11),b(1,"kss-lib-slide-toggle",12),m()),o&2){let n=s(),e=s().$implicit;l(),p("label",e.slideToggle.label)("control",n)}}function ho(o,a){if(o&1&&u(0,co,1,9,"kss-lib-input",8)(1,so,1,2,"kss-lib-select",9)(2,lo,1,3,"kss-lib-autocomplete",10)(3,mo,2,2,"div",11)(4,po,2,2,"div",11),o&2){let n=s().$implicit;_(n.input?0:n.select?1:n.autocomplete?2:n.checkbox?3:n.slideToggle?4:-1)}}function uo(o,a){if(o&1&&(d(0,"div",5)(1,"div",7),u(2,ho,5,1),m()()),o&2){let n,e=a.$implicit,t=s(2);l(2),_((n=t.getControl(e.fieldName))?2:-1,n)}}function _o(o,a){if(o&1&&(d(0,"div",6),y(1),m()),o&2){let n=s(2);l(),T(" ",n.data.notes," ")}}function fo(o,a){if(o&1){let n=w();d(0,"div",6)(1,"kss-lib-button",0),v("btnClicked",function(){f(n);let t=s(2);return g(t.clear())}),m()()}o&2&&(l(),p("config",ct(1,ro)))}function go(o,a){if(o&1){let n=w();d(0,"form",2),v("submit",function(){f(n);let t=s();return g(t.handleDialogActions("save"))}),d(1,"div",3)(2,"div",4),F(3,uo,3,1,"div",5,ao),u(5,_o,2,1,"div",6)(6,fo,2,2,"div",6),m()()()}if(o&2){let n=s();p("formGroup",n.form),l(3),D(n.data.fields),l(2),_(n.data.notes?5:-1),l(),_(n.data.clearButton?6:-1)}}var ua=(()=>{let a=class a{constructor(e,t,i){this.data=e,this._dialogRef=t,this._snackbar=i,this.form=new Nt({}),this.maxValue=Xt.maxNumberValue,this.resetSig=ot(!1)}ngOnInit(){this._createForm(),this.data.data&&this._editForm(this.data.data)}getControl(e){return this.form.get(e)}clear(){this.resetSig.set(!0),this.form.reset(),setTimeout(()=>{this.resetSig.set(!1)},0)}handleDialogActions(e){!e||e==="ok"||e==="cancel"?this._closeDialog():e==="save"&&this._submit()}_closeDialog(e){this._dialogRef.close(e)}_submit(){if(!$t(this.form))return;let e=this.data.data?this.data.data:{},t=Z(Z(Z({},e),this.form.value),this._format());if(this.data.formValidation&&!this.data.formValidation.checkIfValid(t))return this._snackbar.open(this.data.formValidation.msg,"error");this._closeDialog(t)}_createForm(){this.data.fields.forEach(e=>{let t;e.checkbox||e.slideToggle?t=!1:e.input&&(t=""),e.defaultValue!==void 0&&(t=e.defaultValue);let i=new jt({value:t,disabled:!!e.disabled},e.validators);this.form.addControl(e.fieldName,i)})}_editForm(e){this.form.patchValue(e)}_format(){let e={};return this.form.value&&Object.keys(this.form.value).forEach(t=>{let i=this.data.fields.find(r=>r.fieldName===t);if(i){let r=this.form.value[t];if(i.input&&i.input.type==="number"){let c=this.form.value[t];r=c!==void 0&&c!==""?Number(c):null}e[t]=r}}),e}};a.\u0275fac=function(t){return new(t||a)(h(ei),h(Jt),h(oi))},a.\u0275cmp=x({type:a,selectors:[["kss-lib-form-popup"]],standalone:!0,features:[O],decls:2,vars:2,consts:[[3,"btnClicked","config"],[1,"m-2",3,"formGroup"],[1,"m-2",3,"submit","formGroup"],[1,"container-fluid"],[1,"row"],[1,"col"],[1,"text-center","text-danger"],[1,"text-start",2,"min-width","220px"],[3,"config","control","float","textMaxLength","MaxValue","noSpace","readonly","negativeValue"],[3,"config","control"],[3,"config","control","readonly"],[1,"pt-3"],[3,"label","control"]],template:function(t,i){t&1&&(d(0,"kss-lib-confirm-body",0),v("btnClicked",function(c){return i.handleDialogActions(c)}),u(1,go,7,3,"form",1),m()),t&2&&(p("config",i.data.config),l(),_(i.resetSig()?-1:1))},dependencies:[ai,ti,Zt,pi,ii,hi,q,qt,zt,Bt,St]});let o=a;return o})();export{ai as a,ua as b};
